(function(){"use strict";var e={3044:function(e,a,t){var n=t(5130),r=t(6768),s=t(4232),o=t(144);const l={class:"login-page"},u={class:"card",role:"form","aria-labelledby":"login-title"},i={class:"card__header"},d={class:"card__header-row"},c=(0,r.Lk)("div",{class:"card__titles"},[(0,r.Lk)("h1",{id:"login-title",class:"title"},"Sign in")],-1),v=["aria-label"],p=(0,r.Lk)("span",{class:"status__dot","aria-hidden":"true"},null,-1),f={class:"status__text"},b={class:"field"},w=(0,r.Lk)("label",{class:"label",for:"username"},"Username",-1),m=["disabled"],h={class:"field"},k=(0,r.Lk)("label",{class:"label",for:"password"},"Password",-1),g={class:"input input--with-btn"},y=["type","disabled"],L=["aria-pressed","title"],_={key:0,"aria-hidden":"true"},C={key:1,"aria-hidden":"true"},E={class:"sr-only"},O=["disabled"],x={key:0},j={key:1,class:"spinner","aria-hidden":"true"},S={key:2,class:"sr-only"};var X={__name:"App",setup(e){const a=(0,o.KR)(""),t=(0,o.KR)(""),X=(0,o.KR)("Online"),K=(0,o.KR)({message:"",isError:!1}),R=(0,o.KR)(!1),P=(0,o.KR)(!1),T=(0,r.EW)((()=>({"status--ok":"online"===X.value?.toLowerCase(),"status--warn":"degraded"===X.value?.toLowerCase(),"status--down":"offline"===X.value?.toLowerCase()})));function U(e,a=!1,t=4e3){K.value={message:e,isError:a},t>0&&window.setTimeout((()=>{K.value={message:"",isError:!1}}),t)}async function F(){if(a.value&&t.value){R.value=!0;try{const e=new FormData;e.append("username",a.value),e.append("password",t.value);const n=await fetch("/login",{method:"POST",body:e});if(n.redirected)return void(window.location.href=n.url);const r=await n.json().catch((()=>({})));r&&r.message?U(r.message,!0):U("Unexpected response from server",!0)}catch(e){console.error("Error during login:",e),U("An unexpected error occurred",!0)}finally{R.value=!1}}else U("Please enter both username and password.",!0)}return(e,o)=>((0,r.uX)(),(0,r.CE)("main",l,[(0,r.Lk)("section",u,[(0,r.Lk)("header",i,[(0,r.Lk)("div",d,[c,(0,r.Lk)("div",{class:(0,s.C4)(["status",T.value]),"aria-live":"polite","aria-label":`Status: ${X.value}`},[p,(0,r.Lk)("span",f,(0,s.v_)(X.value),1)],10,v)])]),(0,r.Lk)("form",{class:"form",onSubmit:(0,n.D$)(F,["prevent"]),novalidate:""},[(0,r.Lk)("div",b,[w,(0,r.bo)((0,r.Lk)("input",{id:"username",class:"input",type:"text","onUpdate:modelValue":o[0]||(o[0]=e=>a.value=e),disabled:R.value,autocomplete:"username",required:""},null,8,m),[[n.Jo,a.value,void 0,{trim:!0}]])]),(0,r.Lk)("div",h,[k,(0,r.Lk)("div",g,[(0,r.bo)((0,r.Lk)("input",{id:"password",type:P.value?"text":"password","onUpdate:modelValue":o[1]||(o[1]=e=>t.value=e),disabled:R.value,autocomplete:"current-password",required:"",class:"input__control"},null,8,y),[[n.hp,t.value]]),(0,r.Lk)("button",{class:"icon-btn",type:"button","aria-pressed":P.value?"true":"false",title:P.value?"Hide password":"Show password",onClick:o[2]||(o[2]=e=>P.value=!P.value)},[P.value?((0,r.uX)(),(0,r.CE)("span",_,"🙈")):((0,r.uX)(),(0,r.CE)("span",C,"👁️")),(0,r.Lk)("span",E,(0,s.v_)(P.value?"Hide password":"Show password"),1)],8,L)])]),(0,r.Lk)("button",{class:"btn",disabled:R.value},[R.value?((0,r.uX)(),(0,r.CE)("span",j)):((0,r.uX)(),(0,r.CE)("span",x,"Continue")),R.value?((0,r.uX)(),(0,r.CE)("span",S,"Signing in…")):(0,r.Q3)("",!0)],8,O)],32)]),(0,r.bF)(n.eB,{name:"toast"},{default:(0,r.k6)((()=>[K.value.message?((0,r.uX)(),(0,r.CE)("output",{key:0,class:(0,s.C4)(["toast",K.value.isError?"toast--danger":"toast--info"]),role:"status","aria-live":"polite"},(0,s.v_)(K.value.message),3)):(0,r.Q3)("",!0)])),_:1})]))}};const K=X;var R=K;(0,n.Ef)(R).mount("#app")}},a={};function t(n){var r=a[n];if(void 0!==r)return r.exports;var s=a[n]={exports:{}};return e[n].call(s.exports,s,s.exports,t),s.exports}t.m=e,function(){var e=[];t.O=function(a,n,r,s){if(!n){var o=1/0;for(d=0;d<e.length;d++){n=e[d][0],r=e[d][1],s=e[d][2];for(var l=!0,u=0;u<n.length;u++)(!1&s||o>=s)&&Object.keys(t.O).every((function(e){return t.O[e](n[u])}))?n.splice(u--,1):(l=!1,s<o&&(o=s));if(l){e.splice(d--,1);var i=r();void 0!==i&&(a=i)}}return a}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[n,r,s]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var n in a)t.o(a,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:a[n]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){var e={524:0};t.O.j=function(a){return 0===e[a]};var a=function(a,n){var r,s,o=n[0],l=n[1],u=n[2],i=0;if(o.some((function(a){return 0!==e[a]}))){for(r in l)t.o(l,r)&&(t.m[r]=l[r]);if(u)var d=u(t)}for(a&&a(n);i<o.length;i++)s=o[i],t.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return t.O(d)},n=self["webpackChunkvue"]=self["webpackChunkvue"]||[];n.forEach(a.bind(null,0)),n.push=a.bind(null,n.push.bind(n))}();var n=t.O(void 0,[504],(function(){return t(3044)}));n=t.O(n)})();
//# sourceMappingURL=app.37b78971.js.map